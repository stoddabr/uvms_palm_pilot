# Packages for piloting a Project Dave UVMS using an Ultrahaptics interface

This enables the control an underwater vehicle using hand motion with tactile feedback. Primarily focused on underwater grasping tasks.

Part of the ONR Autonomous Manipulation project at Oregon State University, University of Washington, and APL

Designed, architected, coded and maintainted by [Brett Stoddard](stoddardbrett@gmail.com)


# Requirements

* [Project Dave](https://github.com/Field-Robotics-Lab/dave) - an open source underwater vehicle simulator. Basically a frankenstein of a few other projects
* [Seabotix alpha](https://github.com/scchow/seabotix_alpha) - descriptions of a specific uuv model and arm combination built for project dave

# To Run

## Prerequisites
Run the [seabotix alpha simulator](https://github.com/scchow/seabotix_alpha) with the movit interface active: `roslaunch seabotix_alpha_description moveit_demo.launch`. This project hacks topics for that interface to set joint angles during teleop.

This may require a ros [multi-system setup](http://wiki.ros.org/ROS/Tutorials/MultipleMachines). For example, ff simulator is running in a docker container, then the following cmd will be needed before running any ros stuff in the terminal:
```bash
export ROS_MASTER_URI=http://172.17.0.2:11311
export ROS_IP=172.17.0.1
```

## Steps

coming soon

## Roslaunch

coming soon -- if you want this asap create an issue and ping me. Otherwise just follow the steps above


# Description

This is actually three ros projects wearing a trenchcoat: `leap_socket` that forwards hand position data from a websocket generated by the leapmotion's daemon, `uvms_palm_pilot` which maps hand positions to robot motion via exsiting Project Dave topics ment for movit and joystick teleop, and `ultrahaptics` which triggers haptic sensations using an array of ultrasonic speakers on the ultrahaptic device.

## Leap Socket

Was having some trouble running other leapmotion ros nodes on ROS Melodic so I built this one which uses rather than compiling. This comes with downsides but the upside is that it actually works and is more flexible (networking-wise) and easier to setup. 

Also, rather than forwarding full leapmotion information (as the other projects do), this only sends basic data about the hand position and various metrics required for grasping teleop. 

Similar to these projects although it uses a socket instead of a native c++ library
* [leap_motion](http://wiki.ros.org/leap_motion)
* [leap_motion_controller](https://github.com/UTNuclearRoboticsPublic/leap_motion_controller)

## Ultrahaptics

The ultrahaptics is currently a mess. The c++ native library is super difficult to get workig with cmake. As a workaround, currently the system will reun a set of precompiled binaries that trigger sensations in the `src/haptics` folder. On other machines, the exec files may need to be recompiled. See the ultrahaptic starting guide on their website for more information. 

## uvms_palm_pilot

More info coming soon

